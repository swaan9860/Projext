<!DOCTYPE html>
<html>
<head>
	<title>Register</title>
	<link rel="stylesheet" type="text/css" href="register_test.css">
	<style type="text/javascript" href="registervalidation.js"> </style>
</head>
<body>
 
	<div class="register">
		<h1>Please fill the details required and press register</h1>
<form  action="register_test_backend.php" method="post" onsubmit="returnvalidate(this)">
	<table width="88%" border="12">
		
        <tr>
        	<td>Firstname </td>
        	<td>
        		<input type="text" name="firstname" placeholder="Firstname">
        	</td><br>
        <tr>
        	<td>Lastname</td>
        	<td>
        		<input type="text" name="lastname" placeholder="Lastname">
        	</td><br>
		</tr>
		<tr>
			<td>Age</td>
			<td>
				<input type="text" name="age" placeholder="between 1-150">
			</td><br>
		</tr>
		<td>Email</td>
		<td><input type="text" name="email" placeholder="example:john@gmail.com">
		</td><br>
		</tr>
		<tr>
			<td>Password</td>
			<td>
				<input type="text" name="password" placeholder="Password">
			</td><br>
		</tr>
		<tr>
			<td>Username</td>
			<td>
				<input type="text" name="username" placeholder="Username">
		</td><br>
				</tr>
				<tr>
					<td>
		<input type="Submit" id ="submit" value="Register" /></td>
		</tr>
	</table>	
    </form>
    </div>
      <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script type="text/javascript">
    $(function(){
        $("#submit").on('click', function(){
            var first_name  = $("#firstname").val();
            var last_name   = $("#lastname").val();
            var age			= $("#age").val();
            var email       = $("#email").val();
            var password	= $("#password").val();
            var username	= $("#username").val();


            $.ajax({
              method: "POST",
              url:    "config.php",
              data: { "firstname": firstname, "lastname": lastname, "email": email, "age":age, "password":password, "username":username },
             }).done( function( data ) {
                var result = $.parseJSON(data);
                var str = '';
                var cls = '';
                if(result == 1) {
                  str = 'User record saved successfully.';
                  cls = 'success';
                }else if( result == 2) {
                  str = 'All fields are required.';
                  cls = 'error';
                }else if( result == 3) {
                  str = 'Enter a valid email address.';
                  cls = 'error';
                }else{
                  str = 'User data could not be saved. Please try again';
                  cls = 'error';
                }
              alert("I am alerting after done if it is : "+cls);             
          });
  
      $("#message").show(5000).html("hey i m non blocking operation").hide(5000);
       });
     });

  </script>
</body>
</html>
